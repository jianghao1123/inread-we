<!--component/note-item/index.wxml-->
<view class="note-container">
    <text class='date'>{{date}}</text>
    <text class="title" >{{title}}</text>
    <image class="picture" src="{{picture}}" wx:if="{{picture}}" mode="widthFix"></image>
    <view class="iconfont icon-map icon-quotation_l quotation-l"></view>
    <text class="content" bindtap="onContentClick">{{content}}<text wx:if="{{more}}" class="more content">更多</text></text>
    <view class="iconfont icon-map icon-quotation_r quotation-r"></view>
    <view class="operation">
      <view class="author">{{author}}</view>
      <button open-type="share"><image class="icon-share" src="../../assets/icon_share.svg" mode="aspectFill" bindtap="onShareClick"></image></button>
      <text class="count">{{shareCount}}</text>
      <image class="icon-like" src="../../assets/icon_like.svg" mode="aspectFill" bindtap="onLikeClick" animation="{{animationData}}"></image>
      <text class="count">{{likeCount}}</text>
      <image class="icon-comment" src="../../assets/icon_comment.svg" mode="aspectFill" bindtap="onCommentClick"></image>
      <text class="count">{{commentCount}}</text>
    </view>
    <view wx:if="{{commentItems && commentItems.length > 0}}" class="conmment-layout">
      <comment wx:for="{{commentItems}}" wx:key="{{index}}" 
      user="{{item.fromUser ? item.fromUser.username : '未知'}}"
      comment="{{item.content}}"></comment>
      <text class="comment-more" bindtap="onMoreCommentClick">查看{{commentCount}}条评论</text>
    </view>
</view>